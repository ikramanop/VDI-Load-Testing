@startuml
hide empty description

entity "Транзакция" as transaction {
    Идентификатор
    --
    Сумма списания
    Статус транзакции
    Время создания транзакции
    Время изменения статуса транзакции
}

entity "Платёжная сессия" as session {
    Идентификатор
    --
    Тип сессии
    Статус сессии
    Время создания сессии
    Время окончания сессии
    Время изменения статуса сессии
}

entity "Терминал" as terminal {
    Идентификатор
    --
    Конфигурация терминала
    Время создания терминала
    Время обновления терминала
}

entity "Карта" as card {
    Идентификатор
    --
    Фингерпринт пользователя
    Номер карты
    Месяц окончания действия карты
    Имя владельца карты
    Секретный код
    Время добавления карты
    Время последнего использования карты
}

entity "Банк-партнёр" as bank {
    Идентификатор
    --
    Название
    Лимит платёжных сессий
    Время заключения договора
    Время окончания договора
}

entity "Клиент" as client {
    Идентификатор
    --
    Название
    Лимит платёжных сессий
    Время заключения договора
    Время окончания договора
    Настройки уведомлений
}

entity "Платёжный метод" as method {
    Идентификатор
    --
    Название
    Статус доступности
    Время создания метода
    Время изменения статуса метода
    Настройки платёжной сессии
}

entity "Уведомление" as notif {
    Идентификатор
    --
    Интервал проверки статуса транзакции
    Время создания уведомления
    Время последней отправки уведомления
}


usecase opens [
Открывает
--
Принадлежит
]
usecase builds [
Порождает
--
Порождается
]
usecase uses [
Использует
--
Используется
]
usecase loans [
Связывается
--
Предоставляет счёт
]
usecase has [
Имеет
--
Принадлежит
]
usecase links [
Связывается
]
usecase configures1 [
Настраивает
--
Настраивается
]
usecase configures2 [
Настраивает
--
Настраивается
]
usecase checks [
Проверяет статус
--
Сообщает статус
]


terminal -- opens : 0,N
opens -- session : 1,1

session -- builds : 0,1
builds -- transaction : 1,1

session -- uses : 0,1
uses -- card : 0,N

terminal -- loans : 1,1
loans -- bank : 1,N

client -- has : 1,N
has -- method : 1,1

method -- links : 1,1
links -- terminal : 1,N

method -- configures1 : 0,N
configures1 -- session : 1,1

client -- configures2 : 0,N
configures2 -- notif : 1,1

notif -- checks : 1,1
checks -- transaction : 1,1

@enduml